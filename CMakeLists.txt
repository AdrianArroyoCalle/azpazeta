PROJECT(AZPAZETA_JUNO)
CMAKE_MINIMUM_REQUIRED(VERSION 2.8)


SET(welcome,"Welcome to Azpazeta 2.0 (Juno)")
MESSAGE(STATUS "Welcome to Azpazeta 2.0 (Juno)")
SET(CMAKE_CXX_FLAGS_DEBUG,"-O0 -g3 -Wall -Werror -W -Wno-return-type")
SET(CMAKE_CXX_FLAGS_RELEASE,"-O2 -pipe")
#SET(PROJECT_BINARY_DIR ${PROJECT_BINARY_DIR}/build)
#SET(EXECUTABLE_OUTPUT_PATH ${PROJECT_BINARY_DIR}/bin)
#SET(LIBRARY_OUTPUT_PATH ${PROJECT_BINARY_DIR}/lib)
SET(WXWINDOWS_USE_GL 1) 
SET(wxWidgets_USE_LIBS)
find_package(OpenGL QUIET)
find_package(GLUT)
FIND_PACKAGE(wxWidgets COMPONENTS gl aui adv html core net base xml QUIET)

SET(A,${CMAKE_CURRENT_SOURCE_DIR})
SET(B,${CMAKE_SOURCE_DIR})
SET(OS_VERSION,${CMAKE_SYSTEM})
SET(OS_NAME, ${CMAKE_SYSTEM_NAME})
SET(PROCESSOR, ${CMAKE_SYSTEM_PROCESSOR})

IF(NOT CMAKE_BUILD_TYPE )
   SET( CMAKE_BUILD_TYPE "Release" )
ENDIF()

IF(NOT CMAKE_INSTALL_PREFIX)
  SET(CMAKE_INSTALL_PREFIX "${CMAKE_CURRENT_SOURCE_DIR}/build")
ENDIF()


INCLUDE("${wxWidgets_USE_FILE}")
#ADD_EXECUTABLE(AZPAZETA_JUNO src/app.cpp)
# Se puede usar asi ADD_LIBRARY(start src/start.cpp)
#TARGET_LINK_LIBRARIES(AZPAZETA_JUNO start ${wxWidgets_LIBRARIES}) o con SRC multiples



SET (AZP_SRC
src/app.cpp
src/start.cpp
src/window/options.cpp
src/version.cpp
src/window/testgl.cpp
src/pathfinder/pathfinder.cpp
src/window/console.cpp
src/xml/tinyxml.cpp
src/xml/tinystr.cpp
src/xml/tinyxmlerror.cpp
src/xml/tinyxmlparser.cpp)
SET (AZP_LIB
${wxWidgets_LIBRARIES}
${GLUT_LIBRARY}
${OPENGL_LIBRARIES}
)



add_definitions(-DLANGUAGE=SPANISH -DOS_VERSION=${OS_VERSION} -DOS_NAME=${OS_NAME} -DPROCESSOR=${PROCESSOR})
MESSAGE(STATUS ${welcome})
ADD_EXECUTABLE(AZPAZETA_JUNO ${AZP_SRC})
SET_TARGET_PROPERTIES(AZPAZETA_JUNO PROPERTIES RUNTIME "${CMAKE_CURRENT_SOURCE_DIR}/AZPAZETA_JUNO")
TARGET_LINK_LIBRARIES(AZPAZETA_JUNO ${AZP_LIB} )

INSTALL(TARGETS AZPAZETA_JUNO
RUNTIME          DESTINATION    bin
ARCHIVE          DESTINATION    lib/static
LIBRARY          DESTINATION    lib
PUBLIC_HEADER    DESTINATION    include
)
INSTALL(FILES lang/*mo         DESTINATION    lang)
INSTALL(FILES options/options.xml DESTINATION options)

